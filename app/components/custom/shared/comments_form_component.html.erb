<% if record.is_a?(ProjektQuestion) %>
  <%= render ProjektQuestions::CommentsFormComponent.new(record) %>

<% elsif record.is_a?(DeficiencyReport) %>
  <%= render DeficiencyReports::CommentsFormComponent.new(record) %>

<% elsif record.is_a?(Topic) %>
  <%= render Topics::CommentsFormComponent.new(record) %>

<% elsif record.is_a?(Projekt)%>
  <%= render Projekts::CommentsFormComponent.new(record) %>

<% elsif permission_problem_key.present? %>
  <div class='callout alert'>
    <%= cannot_vote_text %>
  </div>

<% elsif exception_for_investment? %>
  <div class='callout secondary'>
    <%= t("custom.projekt_phases.permission_problem.commenting.budget_phase.too_late") %>
  </div>

<% elsif can?(:create, Comment.new(commentable: record)) %>
  <%= render "comments/form", { commentable: record, parent_id: nil } %>

<% end %>
